!function(u,l){var e,t;u.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},t={},(e=u.uaMatch(navigator.userAgent)).browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),u.browser=t,u(function(){function s(o){var e,a,n,t=o.serializeArray(),c=[],s={},l=o.data("multivalues")||{};return u.each(t,function(e,t){var a,n,i,r;-1===u.inArray(t.name,c)&&(t.name.match(/\[\]$/)?(a=o.find('select[name="'+t.name+'"]'),n=t.name.slice(0,-2),i=l.hasOwnProperty(n)?l[n]:",",a.length?r=a.val():(r=[],o.find('[name="'+t.name+'"]:checked').each(function(){r.push(u(this).val())})),s[i+n]=r.join(i),c.push(t.name)):s[t.name]=t.value)}),e=s,a=!1,n=[],u.each(e,function(e,t){t=a?encodeURIComponent(t):t,e=a?encodeURIComponent(e):e,n.push(e+"="+t)}),n.join("&")}u("#jobs-list-filter input[name=q]").autocomplete({source:function(e,t){var a=u("#jobs-list-filter input[name=q]").val(),n=u("#jobs-list-filter input[name=q]").attr("data-url");u.ajax({url:n+"/de/job/suggest?q="+a,dataType:"json",success:function(e){t(e)},error:function(e){console.log("Error while fetching solr suggestions")}})},minLength:1,select:function(e,t){var a=t.item.label.replace(/(<([^>]+)>)/gi,"");return u("#jobs-list-filter input[name=q]").val(a),!1}}).data("ui-autocomplete")._renderItem=function(e,t){return u("<li></li>").data("item.autocomplete",t).append("<a>"+t.label+"</a>").appendTo(e)},u(".search-form").submit(function(e,t){var a=u(this).find('input.form-control.ui-autocomplete-input[name="q"]'),n=u(this).find('select.geoselect[name="l"]'),i=u(this).find("input.facet-param");if(t instanceof Object&&t.forceAjax){var r=s(u(this)),o=u(this).attr("action")+"?"+r;return""==a.val()&&!n.val()&&i.length<1&&(o=u(this).attr("action"),o+=(o.match(/\?/)?"&":"?")+"clear=1"),void l.history.pushState("","",o)}if(""==a.val()&&!n.val()&&i.length<1){var c=u(this).attr("action");return c+=(c.match(/\?/)?"&":"?")+"clear=1",l.location.href=c,!1}})})}(jQuery,window);