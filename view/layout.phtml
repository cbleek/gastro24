<?php
/**
 * Gastrojobs24
 *
 * General layout template file. Defines the general layout.
 *
 * @copyright (c) 2013 - 2016 Cross Solution (http://cross-solution.de)
 * @license   Gastrojobs
 */

/* @var $options \Core\Options\ModuleOptions */
$options = $this->services('Core/Options');
$lang = $this->params('lang');

$routeParams = $this->params()->fromRoute();
$routeClass = '';
if (isset($routeParams['controller']) && isset($routeParams['action'])) {
    $routeClass = strtolower(str_replace(['/', '\\'], '-', $routeParams['controller'] . '-' . $routeParams['action']));
}

// See: http://yawik.readthedocs.org/en/latest/modules/core/notifications.html
$notifications = $this->partial('core/notifications');

// set default page title
//$this->headTitle($this->translate('Gastrojob24'))->setSeparator(' | ')->setAutoEscape(false);
$this->headTitle()->setAutoEscape(false);

// set default keywords
$this->headMeta()->setCharset("utf-8");
$this->headMeta()->appendName('viewport', 'width=device-width, initial-scale=1.0')->setAutoEscape(false);

$this->headLink()->prependStylesheet($this->basePath() . '/modules/Gastro24/Gastro24.css')->setAutoEscape(false);
$this->headLink()->prependStylesheet($this->basePath('dist/css/core.min.css'));
$this->headLink()->appendStylesheet($this->basePath('/modules/Gastro24/jssocials-1.4.0/dist/jssocials.css'));
$this->headLink()->appendStylesheet($this->basePath('/modules/Gastro24/jssocials-1.4.0/dist/jssocials-theme-flat.css'));

?>

<?php echo $this->doctype(); ?>
<html lang="<?php echo $this->params('lang') ?>">
<head>
    <link rel="icon" type="image/png" sizes="32x32" href="<?=$this->basepath('modules/Gastro24/favicons/favicon-32x32_1_.png')?>">
    <link rel="icon" type="image/png" sizes="16x16" href="<?=$this->basepath('modules/Gastro24/favicons/favicon-16x16_1_.png')?>">
    <link rel="shortcut icon" type="image/ico" href="<?=$this->basepath('modules/Gastro24/favicons/favicon_1_.ico')?>">
    <meta name="msapplication-TileColor" content="#2e5b93">
    <meta name="theme-color" content="#2e5b93">
    <?php echo $this->headTitle() ?>
    <?php echo $this->headMeta() ?>
    <?php echo $this->headLink() ?>
    <?php echo $this->headStyle() ?>
    <script type="text/javascript" src="<?= $this->basepath('dist/js/core.min.js') ?>"></script>
    <script>
        var lang="<?= $this->params('lang') ?>"; var basePath="<?= $this->basePath() ?>";
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MCDJ26Q');</script>
    <!-- End Google Tag Manager -->
    
<style>

#job_content p  {
    margin-bottom:25px;
    
    }
   #job_content p a {
       color:#243b84;
       text-decoration:underline;
   } 
    
  #job_content ul {
        
        margin-left:20px;
        margin-bottom:25px;
    }
    
    
    
     #job_content ul li {
        
        margin-bottom:5px;
    }
    
   #job_content  h1 {
        font-size: 24px;
        line-height: 36px;
        font-weight: 600;
        color: #000;
    }
   #job_content   h3 {
        
        font-size:16px;
        color:#000;
        
    }
    
   #job_content   h2 {
        
        
    font-size: 24px;
    line-height: 36px;
    color: #000;
    font-weight: 600;
    }


  .bg-wp-content {
      padding: 5rem 17rem 5rem 17rem;
      background-color:#fff;
      margin-bottom:-50px;
      min-height:600px;
      
  }
    .bg-wp-content hr {
   
      margin-bottom:50px!important;
  }
 .bg-wp-content p,  .bg-wp-content li {
     
     font-size:16px;
     line-height:24px;
 }
  .bg-wp-content h1 {
      
      font-size:34px;
  }
 .bg-wp-content img {
     
     width:100%;
 }

   #footer {
    position: absolute;
    left: 0;
    right: 0;
}
@media (max-width: 768px) {

.bg-wp-content {
    padding: 1rem 2rem 1rem 2rem;

}
     main ul.column {
         -webkit-column-count: 1;
         -moz-column-count: 1;
         column-count: 1;
    }
     .navbar-nav {
         margin: 0;
         width: 100%;
    }
     .navbar-nav>li>a:hover {
         color: #fff;
    }
     #main-navigation a:hover, #main-navigation .dropdown-menu>li>a:hover {
         color: #fff!important;
    }
     #main-navigation ul li a.inverted:hover {
         color: #000!important;
    }
     .navbar-collapse {
         box-shadow: none!important;
    }
     #main-navigation .dropdown-menu>li>a {
         color: #000!important;
    }
     .navbar-nav .open .dropdown-menu>li>a, .navbar-nav .open .dropdown-menu .dropdown-header {
         padding: 8px 15px 8px 45px!important;
    }
     .nav>li {
         border-bottom: 1px solid #ddd;
    }
}
 #yk-login .nav .active a, #wizardcontainer-jobs-form-categoriescontainer .nav .active a, #wizardcontainer-jobs-form-job .nav .active a {
     color: #fff;
}
 #jobsbymail-subscribe-form .row {
     margin-bottom: 10px;
}
 iframe {
     border: 0 
}
 #form-jobs-form-preview .panel-body {
     padding: 0!important;
}
 #main-navigation ul li a.inverted {
     background-color: #fff;
     color: #243b84;
}
 #main-navigation ul li a.inverted:hover {
     color: #fff;
}
 .navbar-toggle {
     border-color: #242424!important;
     background-color: #243b84!important;
}
 .navbar-toggle .icon-bar {
     background-color: #ffffff;
}
 #content .navbar {
     position: static!important;
}
 #jobs-list-filter-wrapper .search-form-container {
     position: absolute;
     left: 0;
     right: 0;
     margin-top: -15px;
}
 main#content {
     background-color:#f2f2f2;
     margin-bottom:0px;
     padding-bottom:50px;
     min-height:65vh;
     padding-top:15px;
     position:relative;
}
.panel__job-detail {
   margin-bottom:-50px!important;
}
 #rpt_pricr .btn {
     border-color: #dcdfe2;
     color: #243b84;
     background-color:#fff;
     padding:8px 0;
     border-radius:3px 
}
 .rpt_3_plans .rpt_plan_1 {
     box-shadow: 1px 5px 9px 2px #ddd;
}
 .rpt_3_plans .rpt_plan_1 .btn {
     color: #fff!important;
     background-color: #d9534f!important;
     border-color: #d9534f;
}
 .rpt_3_plans .rpt_plan_1::before {
     content: "Bestseller";
     background-color: #d9534f;
     color: #fff;
    /* padding: 3px 5px;
     */
     line-height: 42px;
     display: block;
     font-size: 15px;
     text-decoration: none;
     cursor: pointer;
     position: absolute;
     left: 15px;
     top: -41px;
     text-transform: uppercase;
     right: 15px;
     font-weight: bold;
     height: 41px;
     border-top-left-radius: 3px;
     border-top-right-radius: 3px;
}
 #rpt_pricr {
     margin-top:75px;
}
 main ul.column {
     padding-left: 0;
     list-style-type: none;
     -webkit-column-count: 3;
     -moz-column-count: 3;
     column-count: 3;
}
 main ul.column li a {
     text-decoration:underline;
     color:#22436c 
}
 .wp-block-columns.has-2-columns.contact-column .wp-block-column:first-child {

    float: left;
    width: 70%;
    border-right: 1px solid #ccc;
}

.wp-block-columns.has-2-columns.contact-column .wp-block-column:last-child {

    float: left;
    width: 30%;
	padding:0 15px;
}
.wp-block-column li {
    list-style-type:none;
}
.wp-block-column a {
    text-decoration:underline;
    color:#22436c;
}
</style>
    <script>	
    
    $(document).ready(function() {
          $('.wp-content').closest('.container').addClass('bg-wp-content');
          $("#rpt_pricr").closest('.container').removeClass('bg-wp-content');
        });

  (function( $ ) {
	'use strict';

    /**
     * FAQs Toggles
     */
    $(function() {
        $('.qe-toggle-title').click(function () {
            var parent_toggle = $(this).closest('.qe-faq-toggle');
            if ( parent_toggle.hasClass( 'active' ) ) {
                $(this).find('i.fa').removeClass( 'fa-minus-circle' ).addClass( 'fa-plus-circle' );
                parent_toggle.removeClass( 'active' ).find( '.qe-toggle-content' ).slideUp( 'fast' );
            } else {
                $(this).find('i.fa').removeClass( 'fa-plus-circle' ).addClass( 'fa-minus-circle' );
                parent_toggle.addClass( 'active' ).find( '.qe-toggle-content' ).slideDown( 'fast' );
            }
        });
    });

    /**
     * FAQs Filter
     */
    $(function() {
        $('.qe-faqs-filter').click( function ( event ) {
            event.preventDefault();
            $(this).parents('li').addClass('active').siblings().removeClass('active');
            var filterSelector = $(this).attr( 'data-filter' );
            var allFAQs = $( '.qe-faq-toggle' );
            if ( filterSelector == '*' ) {
                allFAQs.show();
            } else {
                allFAQs.not( filterSelector ).hide().end().filter( filterSelector ).show();
            }
        });
    });

})( jQuery );
    </script>
  
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MCDJ26Q"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<?php if (!$this->noHeader):?>
    <header id="header" role="banner">
          <div class="container navbar">
              <?php if ($this->auth('role') === Auth\Entity\User::ROLE_RECRUITER) : ?>
                  <div class="row">
                    <div class="col-12 text-right header-link">
                        <a class="link--inverted"
                           href="<?php echo $this->url('lang/jobs/manage', array('action' => 'edit'), true) ?>">
                            Stellenanzeige anlegen
                        </a>
                    </div>
                  </div>
              <?php endif ?>
		     <div class="row">
               <div class="navbar-header">      
               
                 <button class="navbar-toggle collapsed" data-target="#main-navigation" data-toggle="collapse" type="button">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                    <a class="navbar-brand menu-logo" href="/de">
                        <img src="<?php echo $this->basepath('/modules/Gastro24/gastrojob24_blue.svg') ?>" alt="Gastrojob24 Schweiz" class="menu-logo">
                    </a>
                 </div>
            <nav id="main-navigation" class="navbar-collapse collapse navbar-collapse" role="navigation">

                    
                <?= $this->loginInfo(array('lang' => $lang ));?>
                <?= $this->navigation('Core/Navigation')
                         ->setAcl($this->services('acl'))
                         ->setRole($this->auth('role'))
                         ->menu()
                         ->setMaxDepth(0) // only show the top level entries
                         ->renderPartial(null, 'main-navigation');
//                         ->setUlClass('nav navbar-nav pull-right')//renderPartial(null, 'main-navigation')
                ?>

            </nav>
            <!-- /main-navigation -->
        </div>
     </div>
        <div id="formular">
        </div>
    </header>
    <?php endif ?>

<main id="content" class="<?= $routeClass ?>">
   <div class="container">
    <?php echo $notifications?>
     <?php echo $this->content;?>
  </div>
</main>

<?php if (!$this->noFooter): echo $this->partial("footer"); endif; ?>
<!-- lazy loaded javascript -->
<?php
    $langScript = 'dist/locales/' . $lang . '.js';
    echo $this->inlineScript()->appendFile($this->basePath('/dist/js/jquery-ui-1-12.min.js'))
        ->appendFile($this->basePath('/dist/js/index-main.min.js'))
        ->appendFile($this->basePath($langScript));

    echo $this->configHeadScript();
?>
<!-- end lazy loaded javascript -->
</body>
</html>
